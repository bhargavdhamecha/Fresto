<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:sec="http://www.w3.org/1999/xhtml"
      layout:decorate="~{base-template}">
<div th:fragment="header" id="headerContent">

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" th:href="@{/home}"><img alt="Fresto" class="img-fluid" height="100"
                                                            th:src="@{/images/fresto.png}" width="80"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarNavDarkDropdown" aria-controls="navbarNavDarkDropdown" aria-expanded="false"
                    aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDarkDropdown">
                <ul class="navbar-nav ms-auto my-2 my-lg-0">
                    <li class="nav-item ms-lg-4">
                        <a class="nav-link" th:href="@{/about}">About</a>
                    </li>
                    <li class="nav-item ms-lg-4">
                        <a class="nav-link" th:href="@{/products/o/display-products}">Products</a>
                    </li>
                    <li class="nav-item ms-lg-4">
                        <a class="nav-link" th:href="@{/blog}">Blog</a>
                    </li>
                    <li class="nav-item ms-lg-4">
                        <a class="nav-link" th:href="@{/contact}">Contact</a>
                    </li>
                    <li class="nav-item ms-lg-4">
                        <a class="nav-link" th:href="@{/cart/get-cart}">
                            <svg class="bi bi-handbag" fill="currentColor" height="24" viewbox="0 0 16 16" width="24"
                                 xmlns="http://www.w3.org/2000/svg">
                                <path d="M8 1a2 2 0 0 1 2 2v2H6V3a2 2 0 0 1 2-2zm3 4V3a3 3 0 1 0-6 0v2H3.36a1.5 1.5 0 0 0-1.483 1.277L.85 13.13A2.5 2.5 0 0 0 3.322 16h9.355a2.5 2.5 0 0 0 2.473-2.87l-1.028-6.853A1.5 1.5 0 0 0 12.64 5H11zm-1 1v1.5a.5.5 0 0 0 1 0V6h1.639a.5.5 0 0 1 .494.426l1.028 6.851A1.5 1.5 0 0 1 12.678 15H3.322a1.5 1.5 0 0 1-1.483-1.723l1.028-6.851A.5.5 0 0 1 3.36 6H5v1.5a.5.5 0 1 0 1 0V6h4z"></path>
                                <span class="position-absolute translate-middle badge rounded-pill bg-danger">
                                    <span th:text="${cartItemCount}">0</span>
                                </span>
                            </svg>
                        </a>
                    </li>
                    <li class="nav-item dropdown">
                        <button class="btn dropdown-toggle btn-dark" data-bs-toggle="dropdown" aria-expanded="false">
                            <svg class="bi bi-person-circle" fill="currentColor" height="24" viewbox="0 0 16 16"
                                 width="24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"></path>
                                <path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"
                                      fill-rule="evenodd"></path>
                            </svg>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-light">
                            <li sec:authorize="!isAuthenticated()"><a class="dropdown-item" th:href="@{/login}">Login</a>
                            </li>
                            <li><a class="dropdown-item" th:href="signup">Sign Up</a></li>
                            <li th:if="${#authorization.expression('isAuthenticated()')}">
                                <hr class="divider">
                            </li>
                            <li sec:authorize="isAuthenticated()">
                                <form th:action="@{/auth/logout}" method="post">
                                    <button type="submit" class="dropdown-item">Logout</button>
                                </form>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>
<script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
</html>